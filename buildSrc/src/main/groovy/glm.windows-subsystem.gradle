project.ext.windowsSubsystem = "windows"

tasks.withType(AbstractLinkTask).configureEach { task ->
    task.linkerArgs.addAll toolChain.map { tc ->
        if (tc in VisualCpp) {
            return [ "/subsystem:${project.ext.windowsSubsystem}" ]
        } else {
            return []
        }
    }
}
